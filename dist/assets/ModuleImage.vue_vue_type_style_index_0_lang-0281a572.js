import{i as U,r as _,U as w,a9 as x,s as S,k as B,o as p,c as R,d as a,p as l,H as z,a2 as D,A as v,K as $,R as N,W as T,n,L as b,X as q,q as y,V,y as P,M as j,a as A,N as E}from"./index-c9350ca5.js";const H=A("span",null,"Imagen",-1),W=U({__name:"ModuleImage",setup(K){const g=_(),o=_(w()),I=x(),{modalModuleImage:s,arraySections:i,sectionSelected:r,rowSelected:c,columnsSelected:d,editModuleImage:k,typeModuleImage:C}=S(I);B(()=>{k.value&&(o.value.imageFile=i.value[r.value].arrayRows[c.value].columns[d.value].contentImage.imageFile,o.value.imageUrl=i.value[r.value].arrayRows[c.value].columns[d.value].contentImage.imageUrl)});const F=async()=>{var e;const u=await((e=g.value)==null?void 0:e.validate());u!=null&&u.valid&&(i.value[r.value].arrayRows[c.value].columns[d.value].contentImage={imageFile:o.value.imageFile,imageUrl:o.value.imageUrl,typeModuleImage:C.value},s.value=!1,m())},f=()=>{s.value=!1,m()},m=()=>{o.value.clearData()};return(u,e)=>{const M=E;return p(),R("div",null,[a(j,{modelValue:n(s),"onUpdate:modelValue":e[4]||(e[4]=t=>P(s)?s.value=t:null),width:"800",persistent:""},{default:l(()=>[a(M,{onClick:e[0]||(e[0]=t=>f())}),a(z,null,{default:l(()=>[a(D,{"primary-title":""},{default:l(()=>[H]),_:1}),a(v,null,{default:l(()=>[a($,{ref_key:"formFileValidation",ref:g,"lazy-validation":""},{default:l(()=>[(p(),N(T,{onChange:n(o).handleImageSelected,rules:[n(b)],key:n(o).key,"onClick:clear":e[1]||(e[1]=t=>m())},null,8,["onChange","rules"]))]),_:1},512)]),_:1}),a(v,null,{default:l(()=>[a(q,{src:n(o).imageUrl},null,8,["src"])]),_:1}),a(v,{class:"d-flex justify-end"},{default:l(()=>[a(y,{size:"40",color:"error",icon:"",onClick:e[2]||(e[2]=t=>f()),class:"mr-3"},{default:l(()=>[a(V,{size:"30",icon:"tabler-circle-x"})]),_:1}),a(y,{size:"40",color:"success",icon:"",onClick:e[3]||(e[3]=t=>F())},{default:l(()=>[a(V,{size:"30",icon:"tabler-circle-check"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});export{W as _};
