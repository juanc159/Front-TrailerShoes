import{_ as w}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-e1c88155.js";import{e as x,x as k,y as _,o as C,c as q,d as o,h as s,w as r,R as P,K as v,L as d,H as c,T as f,b as u,g as T,m as $,I as B,V as K,D as F,a as V}from"./index-dd53741e.js";import{useCrudMenuStore as R}from"./useCrudMenuStore-c32bf47c.js";import{V as S}from"./VTooltip-c58f227b.js";const U=V("b",{class:"text-warning"},"*",-1),I=V("b",{class:"text-warning"},"*",-1),M=V("b",{class:"text-warning"},"*",-1),N=V("b",{class:"text-warning"},"*",-1),E=x({__name:"Form",setup(z){const m=R(),{action:b,formulario:l}=k(m),a=_([]),p=_(),g=async n=>{var e;await((e=p.value)==null?void 0:e.resetValidation()),m.typeAction=n,n!="back"&&m.keyList++},y=async()=>{var e;const n=await((e=p.value)==null?void 0:e.validate());if(n!=null&&n.valid){const i=await m.fetchSave();i.code===200&&g("save"),i.code===422&&(a.value=i.errors)}};return(n,e)=>{const i=w;return C(),q("div",null,[o(i,{"sub-title":"Menú",action:s(b),"btn-back":!0,"validate-crud":!0,onChangeScreenBack:g},null,8,["action"]),o(F,{class:"bg-vwhite",fluid:""},{default:r(()=>[o(P,{ref_key:"formValidation",ref:p,"lazy-validation":""},{default:r(()=>[o(v,null,{default:r(()=>[o(d,{cols:"12",md:"6"},{default:r(()=>[o(c,{modelValue:s(l).title,"onUpdate:modelValue":e[0]||(e[0]=t=>s(l).title=t),rules:[s(f)],"error-messages":s(a).title,onKeypress:e[1]||(e[1]=t=>s(a).title="")},{label:r(()=>[u(" Título "),U]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),o(d,{cols:"12",md:"6"},{default:r(()=>[o(c,{modelValue:s(l).to,"onUpdate:modelValue":e[2]||(e[2]=t=>s(l).to=t),rules:[s(f)],"error-messages":s(a).to,onKeypress:e[3]||(e[3]=t=>s(a).to="")},{label:r(()=>[u(" Redireccionar a "),I]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),o(d,{cols:"12",md:"6"},{default:r(()=>[o(c,{modelValue:s(l).icon,"onUpdate:modelValue":e[4]||(e[4]=t=>s(l).icon=t),rules:[s(f)],"error-messages":s(a).icon,onKeypress:e[5]||(e[5]=t=>s(a).icon="")},{label:r(()=>[u(" Icono "),M]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),o(d,{cols:"12",md:"6"},{default:r(()=>[o(c,{modelValue:s(l).requiredPermission,"onUpdate:modelValue":e[6]||(e[6]=t=>s(l).requiredPermission=t),rules:[s(f)],"error-messages":s(a).requiredPermission,onKeypress:e[7]||(e[7]=t=>s(a).requiredPermission="")},{label:r(()=>[u(" Permiso requerido "),N]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),o(T,{class:"border-opacity-75 my-4",color:"csecundary",thickness:3}),o(v,{class:"pt-0"},{default:r(()=>[o(d,{cols:"12",class:"text-center"},{default:r(()=>[o(S,{text:"Guardar",location:"top"},{activator:r(({props:t})=>[o($,B({class:"ms-1",color:"light",rounded:"lg"},t,{onClick:e[8]||(e[8]=D=>y())}),{default:r(()=>[u(" Guardar "),o(K,{size:"large",color:"success",icon:"mdi-content-save-outline"})]),_:2},1040)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})])}}});export{E as _};
