import{_ as E}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-e1c88155.js";import{e as L,am as U,x as Q,y as m,z as R,A as h,B as j,o as x,c as F,d as e,w as t,h as o,C as H,D as w,a as c,E as M,G as f,H as G,O as J,m as b,I as K,b as v,V as k,Q as O,J as q,K as W,L as C,t as X}from"./index-dd53741e.js";import{P as Y}from"./PreloadInterno-a5d99930.js";import{V as Z}from"./VDataTable-d1d16a2f.js";import{V as ee}from"./VSpacer-ddef0a47.js";import{V as P}from"./VTooltip-c58f227b.js";import{V as ae}from"./VPagination-8df84faf.js";const te={class:"me-3",style:{width:"80px"}},oe={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},le={style:{width:"10rem"}},se={colspan:"2"},ne={style:{width:"100"},class:"d-flex justify-content-center"},ge=L({__name:"TableList",setup(ie){const d=U(),{action:A,dataList:u,totalPage:g,lastPage:B,currentPage:s,totalData:S,loading:T,typeAction:re}=Q(d),i=m(10),r=m(""),V=m(""),_=m(""),p=async()=>{await d.fetchAll({perPage:i.value,page:s.value,searchQuery:r.value,sort_direction:V.value,sort_field:_.value})},D=[{title:"Nombre",key:"name"},{title:"Acciones",sortable:!1,key:"actions"}];R(async()=>{await p()});const $=async n=>{n.length>0&&(V.value=n[0].order,_.value=n[0].key,await p())};h([r,i],async()=>{s.value=1}),h([s,r,i],async()=>{await p()});const z=j(()=>{const n=u.value.length?(s.value-1)*g.value+1:0,a=u.value.length+(s.value-1)*g.value;return`Mostrando ${n} a ${a} de ${S.value} registros`}),y=async(n,a=null)=>{A.value=a==null?"new":"edit",d.clearFormulario(),d.typeAction=n,a&&d.fetchInfo(a)};return(n,a)=>{const I=E;return x(),F("div",null,[e(I,{title:"Información","sub-title":"Empresa",icon:"mdi-information-variant"}),e(w,{class:"bg-vwhite",fluid:""},{default:t(()=>[e(o(Z),{headers:D,items:o(u),"items-per-page":o(i),"onUpdate:sortBy":$},H({top:t(()=>[e(w,{fluid:"",class:"d-flex flex-wrap py-4 gap-4"},{default:t(()=>[c("div",te,[e(M,{modelValue:o(i),"onUpdate:modelValue":a[0]||(a[0]=l=>f(i)?i.value=l:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),e(ee),c("div",oe,[c("div",le,[e(G,{modelValue:o(r),"onUpdate:modelValue":a[1]||(a[1]=l=>f(r)?r.value=l:null),placeholder:"Buscar",density:"compact"},null,8,["modelValue"])]),o(u).length==0?(x(),J(P,{key:0,text:"Agregar",location:"top"},{activator:t(({props:l})=>[e(b,K({class:"ms-1",color:"light",rounded:"lg"},l,{onClick:a[2]||(a[2]=N=>y("form"))}),{default:t(()=>[v(" Agregar "),e(k,{size:"large",color:"success",icon:"mdi-plus"})]),_:2},1040)]),_:1})):O("",!0)])]),_:1})]),"item.actions":t(({item:l})=>[e(b,{icon:"",size:"x-small",color:"default",variant:"text",onClick:N=>y("form",l.value)},{default:t(()=>[e(k,{size:"22",icon:"tabler-edit"}),e(P,{activator:"parent",location:"top"},{default:t(()=>[v(" Editar ")]),_:1})]),_:2},1032,["onClick"])]),bottom:t(()=>[e(q,{class:"pt-2"},{default:t(()=>[e(W,null,{default:t(()=>[e(C,{lg:"4",cols:"3"},{default:t(()=>[v(X(o(z)),1)]),_:1}),e(C,{lg:"8",cols:"9",class:"d-flex justify-end"},{default:t(()=>[e(ae,{modelValue:o(s),"onUpdate:modelValue":a[3]||(a[3]=l=>f(s)?s.value=l:null),"total-visible":5,size:"small",length:o(B)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:2},[o(T)?{name:"body",fn:t(()=>[c("tr",null,[c("td",se,[c("div",ne,[e(Y)])])])]),key:"0"}:void 0]),1032,["items","items-per-page"])]),_:1})])}}});export{ge as _};
