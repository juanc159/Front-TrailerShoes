import{_ as y}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-b09167ce.js";import{r as c}from"./validators-e33fb393.js";import{useCrudMenuStore as x}from"./useCrudMenuStore-a97c21f4.js";import{e as k,s as C,r as _,o as q,c as P,d as s,g as o,w as r,b as d,h as $,m as B,V as T,a as V}from"./index-7cf6b37e.js";import{V as F}from"./VForm-abf2d075.js";import{V as v,a as m}from"./VRow-a322e02c.js";import{V as f}from"./VTextField-2736fda9.js";import{V as K}from"./VDivider-8b963e7d.js";import{V as S}from"./VTooltip-a5b1d196.js";import{V as U}from"./VContainer-8fc3c34e.js";const M=V("b",{class:"text-warning"},"*",-1),N=V("b",{class:"text-warning"},"*",-1),R=V("b",{class:"text-warning"},"*",-1),z=V("b",{class:"text-warning"},"*",-1),X=k({__name:"Form",setup(G){const u=x(),{action:b,formulario:l}=C(u),a=_([]),p=_(),g=async n=>{var e;await((e=p.value)==null?void 0:e.resetValidation()),u.typeAction=n,n!="back"&&u.keyList++},w=async()=>{var e;const n=await((e=p.value)==null?void 0:e.validate());if(n!=null&&n.valid){const i=await u.fetchSave();i.code===200&&g("save"),i.code===422&&(a.value=i.errors)}};return(n,e)=>{const i=y;return q(),P("div",null,[s(i,{"sub-title":"Menú",action:o(b),"btn-back":!0,"validate-crud":!0,onChangeScreenBack:g},null,8,["action"]),s(U,{class:"bg-vwhite",fluid:""},{default:r(()=>[s(F,{ref_key:"formValidation",ref:p,"lazy-validation":""},{default:r(()=>[s(v,null,{default:r(()=>[s(m,{cols:"12",md:"6"},{default:r(()=>[s(f,{modelValue:o(l).title,"onUpdate:modelValue":e[0]||(e[0]=t=>o(l).title=t),rules:[o(c)],"error-messages":o(a).title,onKeypress:e[1]||(e[1]=t=>o(a).title="")},{label:r(()=>[d(" Título "),M]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(m,{cols:"12",md:"6"},{default:r(()=>[s(f,{modelValue:o(l).to,"onUpdate:modelValue":e[2]||(e[2]=t=>o(l).to=t),rules:[o(c)],"error-messages":o(a).to,onKeypress:e[3]||(e[3]=t=>o(a).to="")},{label:r(()=>[d(" Redireccionar a "),N]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(m,{cols:"12",md:"6"},{default:r(()=>[s(f,{modelValue:o(l).icon,"onUpdate:modelValue":e[4]||(e[4]=t=>o(l).icon=t),rules:[o(c)],"error-messages":o(a).icon,onKeypress:e[5]||(e[5]=t=>o(a).icon="")},{label:r(()=>[d(" Icono "),R]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(m,{cols:"12",md:"6"},{default:r(()=>[s(f,{modelValue:o(l).requiredPermission,"onUpdate:modelValue":e[6]||(e[6]=t=>o(l).requiredPermission=t),rules:[o(c)],"error-messages":o(a).requiredPermission,onKeypress:e[7]||(e[7]=t=>o(a).requiredPermission="")},{label:r(()=>[d(" Permiso requerido "),z]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),s(K,{class:"border-opacity-75 my-4",color:"csecundary",thickness:3}),s(v,{class:"pt-0"},{default:r(()=>[s(m,{cols:"12",class:"text-center"},{default:r(()=>[s(S,{text:"Guardar",location:"top"},{activator:r(({props:t})=>[s($,B({class:"ms-1",color:"light",rounded:"lg"},t,{onClick:e[8]||(e[8]=I=>w())}),{default:r(()=>[d(" Guardar "),s(T,{size:"large",color:"success",icon:"mdi-content-save-outline"})]),_:2},1040)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})])}}});export{X as _};
