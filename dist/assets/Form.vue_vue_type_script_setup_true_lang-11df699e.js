import{useCrudPermissionStore as _}from"./useCrudPermissionStore-307b7594.js";import{i as b,s as x,r as V,k as g,o as C,c as w,d as l,p as o,C as u,q as c,b as v,B as m,x as F,n as s,L as f,z as y,K as $}from"./index-c9350ca5.js";const N=b({__name:"Form",setup(B){const n=_(),{formulario:i}=x(n),r=V([]),d=V(),p=async t=>{var e;n.typeAction=t,await((e=d.value)==null?void 0:e.resetValidation()),r.value=[],t!="back"&&n.keyList++},k=async()=>{var e;const t=await((e=d.value)==null?void 0:e.validate());if(t!=null&&t.valid){const a=await n.fetchSave();a.code===200&&p("list"),a.code===422&&(r.value=a.errors)}};return g(async()=>{await n.fetchDataForm()}),(t,e)=>(C(),w("div",null,[l(m,null,{default:o(()=>[l(u,{cols:"12",class:"d-flex justify-content-end"},{default:o(()=>[l(c,{color:"secondary",onClick:e[0]||(e[0]=a=>p("back"))},{default:o(()=>[v(" Atras ")]),_:1})]),_:1})]),_:1}),l($,{ref_key:"formValidation",ref:d,"lazy-validation":""},{default:o(()=>[l(m,null,{default:o(()=>[l(u,{cols:"4"},{default:o(()=>[l(F,{items:s(n).arrayMenus,rules:[s(f)],modelValue:s(i).menu_id,"onUpdate:modelValue":[e[1]||(e[1]=a=>s(i).menu_id=a),e[2]||(e[2]=a=>s(r).menu_id="")],"item-title":"title","item-value":"id",label:"Grupo","error-messages":s(r).menu_id},null,8,["items","rules","modelValue","error-messages"])]),_:1}),l(u,{cols:"4"},{default:o(()=>[l(y,{modelValue:s(i).name,"onUpdate:modelValue":e[3]||(e[3]=a=>s(i).name=a),rules:[s(f)],"error-messages":s(r).name,label:"Nombre",onKeypress:e[4]||(e[4]=a=>s(r).name="")},null,8,["modelValue","rules","error-messages"])]),_:1}),l(u,{cols:"4"},{default:o(()=>[l(y,{modelValue:s(i).description,"onUpdate:modelValue":e[5]||(e[5]=a=>s(i).description=a),rules:[s(f)],"error-messages":s(r).description,label:"DescripciÃ³n",onKeypress:e[6]||(e[6]=a=>s(r).description="")},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),l(m,null,{default:o(()=>[l(u,{cols:"12 d-flex justify-content-center"},{default:o(()=>[l(c,{color:"primary",onClick:e[7]||(e[7]=a=>k())},{default:o(()=>[v("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{N as _};
