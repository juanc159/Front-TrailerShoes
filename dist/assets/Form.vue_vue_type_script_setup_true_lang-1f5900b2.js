import{_ as g}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-b09167ce.js";import{r as b}from"./validators-e33fb393.js";import{useCrudChargeStore as C}from"./useCrudChargeStore-71914d23.js";import{e as k,s as w,r as u,o as y,c as x,d as a,g as t,w as o,b as f,h,m as B,V as F,a as N}from"./index-7cf6b37e.js";import{V as S}from"./VForm-abf2d075.js";import{V,a as p}from"./VRow-a322e02c.js";import{V as T}from"./VTextField-2736fda9.js";import{V as $}from"./VDivider-8b963e7d.js";import{V as z}from"./VTooltip-a5b1d196.js";import{V as G}from"./VContainer-8fc3c34e.js";const R=N("b",{class:"text-warning"},"*",-1),M=k({__name:"Form",setup(q){const l=C(),{action:_,formulario:m}=w(l),n=u([]),c=u(),d=async r=>{var e;l.typeAction=r,await((e=c.value)==null?void 0:e.resetValidation()),n.value=[],r!="back"&&l.keyList++},v=async()=>{var e;const r=await((e=c.value)==null?void 0:e.validate());if(r!=null&&r.valid){const s=await l.fetchSave();s.code===200&&d("list"),s.code===422&&(n.value=s.errors??[])}};return(r,e)=>{const s=g;return y(),x("div",null,[a(s,{"sub-title":"Cargo",action:t(_),"validate-crud":!0,"btn-back":!0,onChangeScreenBack:d},null,8,["action"]),a(G,{class:"bg-vwhite",fluid:""},{default:o(()=>[a(S,{ref_key:"formValidation",ref:c,"lazy-validation":""},{default:o(()=>[a(V,null,{default:o(()=>[a(p,{cols:"12"},{default:o(()=>[a(T,{clearable:"",modelValue:t(m).name,"onUpdate:modelValue":e[0]||(e[0]=i=>t(m).name=i),rules:[t(b)],"error-messages":t(n).name,onKeypress:e[1]||(e[1]=i=>t(n).name="")},{label:o(()=>[f(" Nombre "),R]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),a($,{class:"border-opacity-75 my-4",color:"csecundary",thickness:3}),a(V,{class:"pt-0"},{default:o(()=>[a(p,{cols:"12",class:"text-center"},{default:o(()=>[a(z,{text:"Guardar",location:"top"},{activator:o(({props:i})=>[a(h,B({class:"ms-1",color:"light",rounded:"lg"},i,{onClick:e[2]||(e[2]=A=>v())}),{default:o(()=>[f(" Guardar "),a(F,{size:"large",color:"success",icon:"mdi-content-save-outline"})]),_:2},1040)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})])}}});export{M as _};
