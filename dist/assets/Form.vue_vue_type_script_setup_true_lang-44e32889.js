import{_ as k}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-b09167ce.js";import{useCrudPermissionStore as x}from"./useCrudPermissionStore-2be19dcf.js";import{r as V}from"./validators-e33fb393.js";import{e as C,s as $,r as v,v as B,o as F,c as S,d as o,w as t,h as g,b as d,g as s,m as N,V as P,a as _}from"./index-7cf6b37e.js";import{a as u,V as p}from"./VRow-a322e02c.js";import{V as T}from"./VForm-abf2d075.js";import{V as D}from"./VSelect-7d00fc06.js";import{V as b}from"./VTextField-2736fda9.js";import{V as G}from"./VDivider-8b963e7d.js";import{V as U}from"./VTooltip-a5b1d196.js";import{V as z}from"./VContainer-8fc3c34e.js";const A=_("b",{class:"text-warning"},"*",-1),K=_("b",{class:"text-warning"},"*",-1),M=_("b",{class:"text-warning"},"*",-1),Z=C({__name:"Form",setup(R){const n=x(),{action:y,formulario:i}=$(n),r=v([]),c=v(),f=async l=>{var e;n.typeAction=l,await((e=c.value)==null?void 0:e.resetValidation()),r.value=[],l!="back"&&n.keyList++},w=async()=>{var e;const l=await((e=c.value)==null?void 0:e.validate());if(l!=null&&l.valid){const m=await n.fetchSave();m.code===200&&f("list"),m.code===422&&(r.value=m.errors)}};return B(async()=>{await n.fetchDataForm()}),(l,e)=>{const m=k;return F(),S("div",null,[o(p,null,{default:t(()=>[o(u,{cols:"12",class:"d-flex justify-content-end"},{default:t(()=>[o(g,{color:"secondary",onClick:e[0]||(e[0]=a=>f("back"))},{default:t(()=>[d(" Atras ")]),_:1})]),_:1})]),_:1}),o(m,{"sub-title":"Permiso",action:s(y),"validate-crud":!0,"btn-back":!0,onChangeScreenBack:f},null,8,["action"]),o(z,{class:"bg-vwhite",fluid:""},{default:t(()=>[o(T,{ref_key:"formValidation",ref:c,"lazy-validation":""},{default:t(()=>[o(p,null,{default:t(()=>[o(u,{cols:"12",md:"6"},{default:t(()=>[o(D,{items:s(n).arrayMenus,"item-title":"title","item-value":"id",rules:[s(V)],modelValue:s(i).menu_id,"onUpdate:modelValue":[e[1]||(e[1]=a=>s(i).menu_id=a),e[2]||(e[2]=a=>s(r).menu_id="")],"error-messages":s(r).menu_id},{label:t(()=>[d(" Grupo "),A]),_:1},8,["items","rules","modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(b,{modelValue:s(i).name,"onUpdate:modelValue":e[3]||(e[3]=a=>s(i).name=a),rules:[s(V)],"error-messages":s(r).name,onKeypress:e[4]||(e[4]=a=>s(r).name="")},{label:t(()=>[d(" Nombre "),K]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),o(u,{cols:"12"},{default:t(()=>[o(b,{modelValue:s(i).description,"onUpdate:modelValue":e[5]||(e[5]=a=>s(i).description=a),rules:[s(V)],"error-messages":s(r).description,onKeypress:e[6]||(e[6]=a=>s(r).description="")},{label:t(()=>[d(" Descripción "),M]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),o(G,{class:"border-opacity-75 my-4",color:"csecundary",thickness:3}),o(p,{class:"pt-0"},{default:t(()=>[o(u,{cols:"12",class:"text-center"},{default:t(()=>[o(U,{text:"Guardar",location:"top"},{activator:t(({props:a})=>[o(g,N({class:"ms-1",color:"light",rounded:"lg"},a,{onClick:e[7]||(e[7]=j=>w())}),{default:t(()=>[d(" Guardar "),o(P,{size:"large",color:"success",icon:"mdi-content-save-outline"})]),_:2},1040)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})])}}});export{Z as _};
