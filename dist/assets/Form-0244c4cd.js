import{e as A,x as G,y as w,N as Q,T as d,z as H,o as x,c as $,d as s,h as e,w as t,X as M,J as q,R as J,K as V,L as n,H as m,b as u,E as f,a2 as X,ad as Y,aI as F,g as N,a as i,a7 as O,a8 as W,a9 as Z,m as c,V as _,Q as D,F as ee,I as le,D as se,Y as ae,ar as I}from"./index-dd53741e.js";import{_ as te}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-e1c88155.js";import{u as oe}from"./useSelect2Infite-f4f6a343.js";import{useCrudUserStore as re}from"./useCrudUserStore-44b2acae.js";import{V as ne}from"./VTooltip-c58f227b.js";const de=i("b",{class:"text-warning"},"*",-1),ie=i("b",{class:"text-warning"},"*",-1),ue=i("b",{class:"text-warning"},"*",-1),me=i("b",{class:"text-warning"},"*",-1),pe=i("b",{class:"text-warning"},"*",-1),ge=i("b",{class:"text-warning"},"*",-1),Ve={class:"d-flex justify-content-center aling-items-center"},ve={key:0,class:"d-flex justify-content-between aling-items-center p-2"},fe={key:0,class:"d-flex justify-content-between aling-items-center p-2"},be=i("b",{class:"text-warning"},"*",-1),ce=i("b",{class:"text-warning"},"*",-1),_e=i("b",{class:"text-warning"},"*",-1),Ce=i("b",{class:"text-warning"},"*",-1),ye=i("b",{class:"text-warning"},"*",-1),we=i("b",{class:"text-warning"},"*",-1),xe=i("b",{class:"text-warning"},"*",-1),$e=i("b",{class:"text-warning"},"*",-1),Ue=i("h3",null,"Información contacto",-1),ke=i("b",{class:"text-warning"},"*",-1),Ne=i("b",{class:"text-warning"},"*",-1),De=i("b",{class:"text-warning"},"*",-1),Ke=i("b",{class:"text-warning"},"*",-1),Te=i("b",{class:"text-warning"},"*",-1),Se=A({__name:"Form",setup(Fe){const v=re(),{action:B,formulario:o,arrayRoles:L,identityTypes:P,charges_arrayInfo:K,charges_countLinks:E,loading:U,genders:R,civilStatus:h}=G(v),k=w(),r=w([]),C=w(!1),p=oe(v.fetchSelectCharges,K),y=w([]),T=async g=>{var l;v.typeAction=g,y.value=[],r.value=[],await((l=k.value)==null?void 0:l.resetValidation()),g!="back"&&v.keyList++},j=async()=>{var l;const g=await((l=k.value)==null?void 0:l.validate());if(g!=null&&g.valid){const b=await v.fetchSave();b.code===200&&T("list"),b.code===422&&(r.value=b.errors??[])}};Q(o,(g,l)=>{g.id?y.value.password=[]:y.value.password=[d(g.password)]},{deep:!0}),H(async()=>{await v.fetchDataForm(),p.dataNueva.value=K.value,p.totalLinks.value=E.value});const z=()=>{o.value.expeditionDate=null,o.value.birthDate=null,o.value.gender_id=null,o.value.weight=null,o.value.height=null,o.value.civil_status_id=null,o.value.phone=null,o.value.cellphone=null,o.value.address=null,o.value.have_son=null,o.value.nameContact=null,o.value.relationshipContact=null,o.value.phoneContact=null,o.value.cellphoneContact=null,o.value.emailContact=null};return(g,l)=>{const b=te,S=ae;return x(),$("div",null,[s(b,{"sub-title":"Usuario",action:e(B),"validate-crud":!0,"btn-back":!0,onChangeScreenBack:T},null,8,["action"]),s(se,{class:"bg-vwhite",fluid:""},{default:t(()=>[s(M,null,{default:t(()=>[s(q,null,{default:t(()=>[s(J,{ref_key:"formValidation",ref:k,"lazy-validation":""},{default:t(()=>[s(V,null,{default:t(()=>[s(n,{cols:"12",md:"6"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).name,"onUpdate:modelValue":l[0]||(l[0]=a=>e(o).name=a),rules:[e(d)],"error-messages":e(r).name,onKeypress:l[1]||(l[1]=a=>e(r).name="")},{label:t(()=>[u(" Nombre "),de]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).lastName,"onUpdate:modelValue":l[2]||(l[2]=a=>e(o).lastName=a),rules:[e(d)],"error-messages":e(r).lastName,onKeypress:l[3]||(l[3]=a=>e(r).lastName="")},{label:t(()=>[u(" Apellido "),ie]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(f,{clearable:"",items:e(P),"item-title":"name","item-value":"id",modelValue:e(o).identity_type_id,"onUpdate:modelValue":[l[4]||(l[4]=a=>e(o).identity_type_id=a),l[5]||(l[5]=a=>e(r).identity_type_id="")],rules:[e(d)],"error-messages":e(r).identity_type_id},{label:t(()=>[u(" Tipo de identificación "),ue]),_:1},8,["items","modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(m,{clearable:"",maxlength:"10",modelValue:e(o).idNumber,"onUpdate:modelValue":l[6]||(l[6]=a=>e(o).idNumber=a),rules:[e(d),e(X)(e(o).idNumber,10)],"error-messages":e(r).idNumber,onKeypress:l[7]||(l[7]=a=>{e(r).idNumber="",e(Y)(a)})},{label:t(()=>[u(" Identificación "),me]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(m,{clearable:"",autocomplete:"off",modelValue:e(o).email,"onUpdate:modelValue":l[8]||(l[8]=a=>e(o).email=a),rules:[e(d),e(F)],"error-messages":e(r).email,onKeypress:l[9]||(l[9]=a=>e(r).email="")},{label:t(()=>[u(" Email "),pe]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(m,{clearable:"",autocomplete:"off",type:e(C)?"text":"password",modelValue:e(o).password,"onUpdate:modelValue":l[10]||(l[10]=a=>e(o).password=a),rules:e(y).password,"onClick:append":l[11]||(l[11]=a=>C.value=!e(C)),"append-icon":e(C)?"mdi-eye":"mdi-eye-off","error-messages":e(r).password,onKeypress:l[12]||(l[12]=a=>e(r).password="")},{label:t(()=>[u(" Contraseña "),ge]),_:1},8,["type","modelValue","rules","append-icon","error-messages"])]),_:1}),s(n,{cols:"12",sm:"6"},{default:t(()=>[s(f,{clearable:"",rules:[e(d)],items:e(L),modelValue:e(o).role_id,"onUpdate:modelValue":[l[13]||(l[13]=a=>e(o).role_id=a),l[14]||(l[14]=a=>{e(r).role_id="",z()})],"item-title":"name","item-value":"id",label:"Rol","error-messages":e(r).role_id},null,8,["rules","items","modelValue","error-messages"])]),_:1}),s(n,{cols:"12",sm:"6"},{default:t(()=>[s(f,{clearable:"","item-title":"name",label:"Cargo","item-value":"id",items:e(p).dataNueva.value,modelValue:e(o).charge_id,"onUpdate:modelValue":[l[20]||(l[20]=a=>e(o).charge_id=a),l[21]||(l[21]=a=>e(r).charge_id="")],"error-messages":e(r).charge_id,rules:[e(d)]},{"prepend-item":t(()=>[s(m,{placeholder:"Buscar...",class:"mb-2",modelValue:e(p).searchQuery.value,"onUpdate:modelValue":l[15]||(l[15]=a=>e(p).searchQuery.value=a)},null,8,["modelValue"]),s(N)]),"append-item":t(()=>[s(N),i("div",Ve,[O(s(W,{size:"24",color:"primary",indeterminate:""},null,512),[[Z,e(U)]])]),e(U)?D("",!0):(x(),$("div",ve,[i("div",null,[s(c,{class:"mt-2",disabled:e(p).page.value<=1,onClick:l[16]||(l[16]=a=>e(p).prev()),color:"success"},{default:t(()=>[s(_,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),s(c,{class:"mt-2",disabled:e(p).page.value>=e(p).totalLinks.value,onClick:l[17]||(l[17]=a=>e(p).next()),color:"success"},{default:t(()=>[s(_,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])]),e(U)?D("",!0):(x(),$("div",fe,[i("div",null,[s(c,{class:"mt-2",disabled:e(p).page.value<=1,onClick:l[18]||(l[18]=a=>e(p).prev()),color:"success"},{default:t(()=>[s(_,{icon:"mdi-chevron-left"})]),_:1},8,["disabled"]),s(c,{class:"mt-2",disabled:e(p).page.value>=e(p).totalLinks.value,onClick:l[19]||(l[19]=a=>e(p).next()),color:"success"},{default:t(()=>[s(_,{icon:"mdi-chevron-right"})]),_:1},8,["disabled"])])]))]))]),_:1},8,["items","modelValue","error-messages","rules"])]),_:1})]),_:1}),s(N,{class:"border-opacity-75 my-4",color:"csecundary",thickness:3}),e(o).role_id&&e(o).role_id!=2?(x(),$(ee,{key:0},[s(V,null,{default:t(()=>[s(n,{cols:"12",md:"6"},{default:t(()=>[s(S,{modelValue:e(o).expeditionDate,"onUpdate:modelValue":[l[22]||(l[22]=a=>e(o).expeditionDate=a),l[23]||(l[23]=a=>e(r).expeditionDate="")],label:"Fecha expedición","error-messages":e(r).expeditionDate,rules:[e(d)]},null,8,["modelValue","error-messages","rules"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(S,{modelValue:e(o).birthDate,"onUpdate:modelValue":[l[24]||(l[24]=a=>e(o).birthDate=a),l[25]||(l[25]=a=>e(r).birthDate="")],label:"Fecha nacimiento","error-messages":e(r).start,rules:[e(d)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),s(V,null,{default:t(()=>[s(n,{cols:"12",md:"6"},{default:t(()=>[s(f,{clearable:"",items:e(R),modelValue:e(o).gender_id,"onUpdate:modelValue":[l[26]||(l[26]=a=>e(o).gender_id=a),l[27]||(l[27]=a=>e(r).gender_id="")],rules:[e(d)],"error-messages":e(r).gender_id},{label:t(()=>[u(" Género "),be]),_:1},8,["items","modelValue","rules","error-messages"])]),_:1}),s(n,{VCol:"",cols:" 12",md:"6"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).weight,"onUpdate:modelValue":l[28]||(l[28]=a=>e(o).weight=a),rules:[e(d)],"error-messages":e(r).weight,onKeypress:l[29]||(l[29]=a=>e(r).weight="")},{label:t(()=>[u(" Peso "),ce]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),s(V,null,{default:t(()=>[s(n,{VCol:"",cols:" 12",md:"6"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).height,"onUpdate:modelValue":l[30]||(l[30]=a=>e(o).height=a),rules:[e(d)],"error-messages":e(r).height,onKeypress:l[31]||(l[31]=a=>e(r).height="")},{label:t(()=>[u(" Estatura "),_e]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(f,{clearable:"",items:e(h),modelValue:e(o).civil_status_id,"onUpdate:modelValue":[l[32]||(l[32]=a=>e(o).civil_status_id=a),l[33]||(l[33]=a=>e(r).civil_status_id="")],rules:[e(d)],"error-messages":e(r).civil_status_id},{label:t(()=>[u(" Estado civil "),Ce]),_:1},8,["items","modelValue","rules","error-messages"])]),_:1})]),_:1}),s(V,null,{default:t(()=>[s(n,{VCol:"",cols:" 12",md:"6"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).phone,"onUpdate:modelValue":l[34]||(l[34]=a=>e(o).phone=a),rules:[e(d)],"error-messages":e(r).phone,onKeypress:l[35]||(l[35]=a=>e(r).phone="")},{label:t(()=>[u(" Teléfono "),ye]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).cellphone,"onUpdate:modelValue":[l[36]||(l[36]=a=>e(o).cellphone=a),l[37]||(l[37]=a=>e(r).cellphone="")],rules:[e(d)],"error-messages":e(r).cellphone},{label:t(()=>[u(" Celular "),we]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),s(V,null,{default:t(()=>[s(n,{VCol:"",cols:" 12",md:"6"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).address,"onUpdate:modelValue":l[38]||(l[38]=a=>e(o).address=a),rules:[e(d)],"error-messages":e(r).address,onKeypress:l[39]||(l[39]=a=>e(r).address="")},{label:t(()=>[u(" Dirección "),xe]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(f,{clearable:"",items:["Si","No"],rules:[e(d)],modelValue:e(o).have_son,"onUpdate:modelValue":[l[40]||(l[40]=a=>e(o).have_son=a),l[41]||(l[41]=a=>e(r).have_son="")],"error-messages":e(r).have_son},{label:t(()=>[u(" Tiene hijos "),$e]),_:1},8,["rules","modelValue","error-messages"])]),_:1})]),_:1}),s(V,null,{default:t(()=>[s(n,{VCol:"",cols:" 12"},{default:t(()=>[Ue]),_:1})]),_:1}),s(V,null,{default:t(()=>[s(n,{VCol:"",cols:" 12",md:"6"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).nameContact,"onUpdate:modelValue":l[42]||(l[42]=a=>e(o).nameContact=a),rules:[e(d)],"error-messages":e(r).nameContact,onKeypress:l[43]||(l[43]=a=>e(r).nameContact="")},{label:t(()=>[u(" Nombre "),ke]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"6"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).relationshipContact,"onUpdate:modelValue":l[44]||(l[44]=a=>e(o).relationshipContact=a),rules:[e(d)],"error-messages":e(r).relationshipContact,onKeypress:l[45]||(l[45]=a=>e(r).relationshipContact="")},{label:t(()=>[u(" Parentesco "),Ne]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),s(V,null,{default:t(()=>[s(n,{VCol:"",cols:" 12",md:"4"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).phoneContact,"onUpdate:modelValue":l[46]||(l[46]=a=>e(o).phoneContact=a),rules:[e(d)],"error-messages":e(r).phoneContact,onKeypress:l[47]||(l[47]=a=>e(r).phoneContact="")},{label:t(()=>[u(" Teléfono "),De]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(n,{cols:"12",md:"4"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).cellphoneContact,"onUpdate:modelValue":l[48]||(l[48]=a=>e(o).cellphoneContact=a),"error-messages":e(r).cellphoneContact,onKeypress:l[49]||(l[49]=a=>e(r).cellphoneContact=""),rules:[e(d)]},{label:t(()=>[u(" Celular "),Ke]),_:1},8,["modelValue","error-messages","rules"])]),_:1}),s(n,{cols:"12",md:"4"},{default:t(()=>[s(m,{clearable:"",modelValue:e(o).emailContact,"onUpdate:modelValue":l[50]||(l[50]=a=>e(o).emailContact=a),"error-messages":e(r).emailContact,onKeypress:l[51]||(l[51]=a=>e(r).emailContact=""),rules:[e(d),e(F)]},{label:t(()=>[u(" Correo "),Te]),_:1},8,["modelValue","error-messages","rules"])]),_:1})]),_:1})],64)):D("",!0),s(V,{class:"pt-0"},{default:t(()=>[s(n,{cols:"12",class:"text-center"},{default:t(()=>[s(ne,{text:"Guardar",location:"top"},{activator:t(({props:a})=>[s(c,le({class:"ms-1",color:"light",rounded:"lg"},a,{onClick:l[52]||(l[52]=Ie=>j())}),{default:t(()=>[u(" Guardar  "),s(_,{size:"large",color:"success",icon:"mdi-content-save-outline"})]),_:2},1040)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})])}}});typeof I=="function"&&I(Se);export{Se as default};
