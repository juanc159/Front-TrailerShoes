import{_ as N}from"./AppTextField.vue_vue_type_script_setup_true_lang-b9aeb8b8.js";import{i as C,Y as T,s as R,r as p,ai as $,k as B,as as K,o as S,c as U,a as f,d as t,n as e,ba as b,bR as y,p as l,a1 as L,bS as A,a2 as F,b as g,A as M,K as H,B as I,C as i,L as u,x as j,Z as q,aQ as D,q as E,a4 as v,H as P,ay as w}from"./index-c9350ca5.js";import{_ as Y}from"./AuthProvider.vue_vue_type_script_setup_true_lang-53f25776.js";const z=`<svg width="238" height="238" viewBox="0 0 181 181" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<rect x="1.30469" y="1.44312" width="178" height="178" rx="19" stroke="currentColor" stroke-opacity="0.16" stroke-width="2" stroke-dasharray="8 8"/>\r
<rect x="22.8047" y="22.9431" width="135" height="135" rx="10" fill="currentColor" fill-opacity="0.08"/>\r
</svg>\r
`,Q=`<svg width="239" height="234" viewBox="0 0 239 234" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<rect x="88.5605" y="0.700195" width="149" height="149" rx="19.5" stroke="currentColor" stroke-opacity="0.16"/>\r
<rect x="0.621094" y="33.761" width="200" height="200" rx="10" fill="currentColor" fill-opacity="0.08"/>\r
</svg>\r
`,Z={class:"auth-wrapper d-flex align-center justify-center pa-4"},G={class:"position-relative my-sm-16"},J={class:"d-flex"},O=f("span",null,"¿Ya tienes una cuenta?",-1),W=f("span",{class:"mx-4"},"o",-1),X=C({__name:"register",setup(ee){const c=T(),{identityTypes:_}=R(c),V=p(),x=$(),o=p({name:null,lastName:null,email:null,password:null,identity_type_id:null,idNumber:null,role_id:2}),h=async()=>{var s;const d=await((s=V.value)==null?void 0:s.validate());if(d!=null&&d.valid){const n=await c.register(o.value);n.code===200&&x.push({name:"login"}),n.code===422&&(r.value=n.errors??[])}},m=p(!1),r=p({});return B(async()=>{await c.fetchDataForm()}),(d,s)=>{const n=N,k=K("RouterLink");return S(),U("div",Z,[f("div",G,[t(e(y),{nodes:("h"in d?d.h:e(b))("div",{innerHTML:e(Q)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),t(e(y),{nodes:("h"in d?d.h:e(b))("div",{innerHTML:e(z)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),t(P,{class:"auth-card pa-4","max-width":"448"},{default:l(()=>[t(L,{class:"justify-center"},{prepend:l(()=>[f("div",J,[t(e(y),{nodes:e(A).app.logo},null,8,["nodes"])])]),default:l(()=>[t(F,{class:"font-weight-bold text-h5 py-1"},{default:l(()=>[g(" Registro de usuario ")]),_:1})]),_:1}),t(M,null,{default:l(()=>[t(H,{ref_key:"formValidation",ref:V,"lazy-validation":""},{default:l(()=>[t(I,null,{default:l(()=>[t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",modelValue:e(o).name,"onUpdate:modelValue":s[0]||(s[0]=a=>e(o).name=a),label:"Nombre",rules:[e(u)],"error-messages":e(r).name,onKeypress:s[1]||(s[1]=a=>e(r).name="")},null,8,["modelValue","rules","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",modelValue:e(o).lastName,"onUpdate:modelValue":s[2]||(s[2]=a=>e(o).lastName=a),label:"Apellido",rules:[e(u)],"error-messages":e(r).lastName,onKeypress:s[3]||(s[3]=a=>e(r).lastName="")},null,8,["modelValue","rules","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(j,{clearable:"",rules:[e(u)],items:e(_),modelValue:e(o).identity_type_id,"onUpdate:modelValue":[s[4]||(s[4]=a=>e(o).identity_type_id=a),s[5]||(s[5]=a=>e(r).identity_type_id="")],"item-title":"name","item-value":"id",label:"Tipo de identificacion","error-messages":e(r).identity_type_id},null,8,["rules","items","modelValue","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",maxlength:"10",rules:[e(u),e(q)(e(o).idNumber,10)],modelValue:e(o).idNumber,"onUpdate:modelValue":s[6]||(s[6]=a=>e(o).idNumber=a),"error-messages":e(r).idNumber,label:"identificación",onKeypress:s[7]||(s[7]=a=>{e(r).idNumber="",e(D)(a)})},null,8,["rules","modelValue","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",modelValue:e(o).email,"onUpdate:modelValue":s[8]||(s[8]=a=>e(o).email=a),label:"Email",type:"email",rules:[e(u)],"error-messages":e(r).email,onKeypress:s[9]||(s[9]=a=>e(r).email="")},null,8,["modelValue","rules","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",modelValue:e(o).password,"onUpdate:modelValue":s[10]||(s[10]=a=>e(o).password=a),label:"Password",type:e(m)?"text":"password","append-inner-icon":e(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[11]||(s[11]=a=>m.value=!e(m)),rules:[e(u)],"error-messages":e(r).password,onKeypress:s[12]||(s[12]=a=>e(r).password="")},null,8,["modelValue","type","append-inner-icon","rules","error-messages"]),t(E,{block:"",class:"mt-2 mb-4",onClick:s[13]||(s[13]=a=>h())},{default:l(()=>[g(" Registrarse ")]),_:1})]),_:1}),t(i,{cols:"12",class:"text-center text-base"},{default:l(()=>[O,t(k,{class:"text-primary ms-2",to:{name:"login"}},{default:l(()=>[g(" Iniciar sesión ")]),_:1})]),_:1}),t(i,{cols:"12",class:"d-flex align-center"},{default:l(()=>[t(v),W,t(v)]),_:1}),t(i,{cols:"12",class:"text-center"},{default:l(()=>[t(Y)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])])}}});typeof w=="function"&&w(X);export{X as default};
