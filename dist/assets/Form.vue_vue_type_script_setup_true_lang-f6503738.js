import{_ as C}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-79f7e532.js";import{r as c}from"./validators-e33fb393.js";import{useCrudProductionStore as B}from"./useCrudProductionStore-894a8447.js";import{e as F,s as S,r as _,v as T,o as P,c as U,d as t,g as o,w as a,b as m,h as $,m as E,V as N,a as f}from"./index-8ab07650.js";import{V as z}from"./VForm-fc9213b6.js";import{V as b,a as u}from"./VRow-2de8352d.js";import{V as v}from"./VSelect-6e2871a0.js";import{V as y}from"./VTextField-a36c9478.js";import{V as D}from"./VDivider-1631d3af.js";import{V as G}from"./VTooltip-489b0134.js";import{V as K}from"./VContainer-c5b930f8.js";const R=f("b",{class:"text-warning"},"*",-1),q=f("b",{class:"text-warning"},"*",-1),A=f("b",{class:"text-warning"},"*",-1),H=f("b",{class:"text-warning"},"*",-1),oe=F({__name:"Form",setup(I){const i=B(),{action:g,formulario:l,employees:w,styles:x}=S(i),n=_([]),V=_(),p=async r=>{var e;i.typeAction=r,await((e=V.value)==null?void 0:e.resetValidation()),n.value=[],r!="back"&&i.keyList++},k=async()=>{var e;const r=await((e=V.value)==null?void 0:e.validate());if(r!=null&&r.valid){const d=await i.fetchSave();d.code===200&&p("list"),d.code===422&&(n.value=d.errors??[])}};return T(async()=>{await i.fetchDataForm()}),(r,e)=>{const d=C;return P(),U("div",null,[t(d,{"sub-title":"Produccion",action:o(g),"validate-crud":!0,"btn-back":!0,onChangeScreenBack:p},null,8,["action"]),t(K,{class:"bg-vwhite",fluid:""},{default:a(()=>[t(z,{ref_key:"formValidation",ref:V,"lazy-validation":""},{default:a(()=>[t(b,null,{default:a(()=>[t(u,{cols:"12",sm:"4"},{default:a(()=>[t(v,{items:o(x),modelValue:o(l).style_id,"onUpdate:modelValue":e[0]||(e[0]=s=>o(l).style_id=s),rules:[o(c)]},{label:a(()=>[m(" Estilo "),R]),_:1},8,["items","modelValue","rules"])]),_:1}),t(u,{cols:"12",sm:"4"},{default:a(()=>[t(v,{items:o(w),modelValue:o(l).employee_id,"onUpdate:modelValue":e[1]||(e[1]=s=>o(l).employee_id=s),rules:[o(c)]},{label:a(()=>[m(" Empleado "),q]),_:1},8,["items","modelValue","rules"])]),_:1}),t(u,{cols:"12",sm:"4"},{default:a(()=>[t(y,{clearable:"",modelValue:o(l).cant,"onUpdate:modelValue":e[2]||(e[2]=s=>o(l).cant=s),rules:[o(c)],"error-messages":o(n).cant,onKeypress:e[3]||(e[3]=s=>o(n).cant="")},{label:a(()=>[m(" Cantidad "),A]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"12",sm:"4"},{default:a(()=>[t(y,{clearable:"",modelValue:o(l).total,"onUpdate:modelValue":e[4]||(e[4]=s=>o(l).total=s),rules:[o(c)],"error-messages":o(n).total,onKeypress:e[5]||(e[5]=s=>o(n).total="")},{label:a(()=>[m(" Total "),H]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),t(D,{class:"border-opacity-75 my-4",color:"csecundary",thickness:3}),t(b,{class:"pt-0"},{default:a(()=>[t(u,{cols:"12",class:"text-center"},{default:a(()=>[t(G,{text:"Guardar",location:"top"},{activator:a(({props:s})=>[t($,E({class:"ms-1",color:"light",rounded:"lg"},s,{onClick:e[6]||(e[6]=L=>k())}),{default:a(()=>[m(" Guardar  "),t(N,{size:"large",color:"success",icon:"mdi-content-save-outline"})]),_:2},1040)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})])}}});export{oe as _};
