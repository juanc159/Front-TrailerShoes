import{useCrudMenuStore as b}from"./useCrudMenuStore-a042ad18.js";import{i as k,s as q,r as v,o as x,c as C,d as r,p as s,C as u,q as y,b as c,B as i,z as m,n as l,L as f,K as $}from"./index-c9350ca5.js";const B=k({__name:"Form",setup(w){const d=b(),{formulario:a}=q(d),t=v([]),V=v(),p=async n=>{var e;await((e=V.value)==null?void 0:e.resetValidation()),d.typeAction=n,n!="back"&&d.keyList++},g=async()=>{var e;const n=await((e=V.value)==null?void 0:e.validate());if(n!=null&&n.valid){const o=await d.fetchSave();o.code===200&&p("save"),o.code===422&&(t.value=o.errors)}};return(n,e)=>(x(),C("div",null,[r(i,null,{default:s(()=>[r(u,{cols:"12",class:"d-flex justify-content-end"},{default:s(()=>[r(y,{color:"secondary",onClick:e[0]||(e[0]=o=>p("back"))},{default:s(()=>[c(" Atras ")]),_:1})]),_:1})]),_:1}),r($,{ref_key:"formValidation",ref:V,"lazy-validation":""},{default:s(()=>[r(i,null,{default:s(()=>[r(u,{cols:"4"},{default:s(()=>[r(m,{modelValue:l(a).title,"onUpdate:modelValue":e[1]||(e[1]=o=>l(a).title=o),"error-messages":l(t).title,label:"TÃ­tulo",onKeypress:e[2]||(e[2]=o=>l(t).title=""),rules:[l(f)]},null,8,["modelValue","error-messages","rules"])]),_:1}),r(u,{cols:"4"},{default:s(()=>[r(m,{modelValue:l(a).to,"onUpdate:modelValue":e[3]||(e[3]=o=>l(a).to=o),"error-messages":l(t).to,label:"Redireccionar a",onKeypress:e[4]||(e[4]=o=>l(t).to=""),rules:[l(f)]},null,8,["modelValue","error-messages","rules"])]),_:1}),r(u,{cols:"4"},{default:s(()=>[r(m,{modelValue:l(a).icon,"onUpdate:modelValue":e[5]||(e[5]=o=>l(a).icon=o),"error-messages":l(t).icon,label:"Icono",onKeypress:e[6]||(e[6]=o=>l(t).icon=""),rules:[l(f)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),r(i,null,{default:s(()=>[r(u,{cols:"4"},{default:s(()=>[r(m,{modelValue:l(a).requiredPermission,"onUpdate:modelValue":e[7]||(e[7]=o=>l(a).requiredPermission=o),"error-messages":l(t).requiredPermission,label:"Permiso requerido",onKeypress:e[8]||(e[8]=o=>l(t).requiredPermission=""),rules:[l(f)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1}),r(i,null,{default:s(()=>[r(u,{cols:"12 d-flex justify-content-center"},{default:s(()=>[r(y,{color:"primary",onClick:e[9]||(e[9]=o=>g())},{default:s(()=>[c("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{B as _};
