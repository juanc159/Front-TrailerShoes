import{_ as y}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-79f7e532.js";import{r as f}from"./validators-e33fb393.js";import{useCrudChargeStore as w}from"./useCrudChargeStore-280cba81.js";import{e as C,s as k,r as V,v as x,o as B,c as F,d as a,g as o,w as r,b as p,h as S,m as h,V as N,a as T}from"./index-8ab07650.js";import{V as $}from"./VForm-fc9213b6.js";import{V as _,a as u}from"./VRow-2de8352d.js";import{V as z}from"./VTextField-a36c9478.js";import{V as A}from"./VSelect-6e2871a0.js";import{V as D}from"./VDivider-1631d3af.js";import{V as G}from"./VTooltip-489b0134.js";import{V as K}from"./VContainer-c5b930f8.js";const R=T("b",{class:"text-warning"},"*",-1),X=C({__name:"Form",setup(U){const i=w(),{action:v,formulario:m,areas:g}=k(i),l=V([]),d=V(),c=async t=>{var e;i.typeAction=t,await((e=d.value)==null?void 0:e.resetValidation()),l.value=[],t!="back"&&i.keyList++},b=async()=>{var e;const t=await((e=d.value)==null?void 0:e.validate());if(t!=null&&t.valid){const n=await i.fetchSave();n.code===200&&c("list"),n.code===422&&(l.value=n.errors??[])}};return x(async()=>{await i.fetchDataForm()}),(t,e)=>{const n=y;return B(),F("div",null,[a(n,{"sub-title":"Cargo",action:o(v),"validate-crud":!0,"btn-back":!0,onChangeScreenBack:c},null,8,["action"]),a(K,{class:"bg-vwhite",fluid:""},{default:r(()=>[a($,{ref_key:"formValidation",ref:d,"lazy-validation":""},{default:r(()=>[a(_,null,{default:r(()=>[a(u,{cols:"6"},{default:r(()=>[a(z,{clearable:"",modelValue:o(m).name,"onUpdate:modelValue":e[0]||(e[0]=s=>o(m).name=s),rules:[o(f)],"error-messages":o(l).name,onKeypress:e[1]||(e[1]=s=>o(l).name="")},{label:r(()=>[p(" Nombre "),R]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"6"},{default:r(()=>[a(A,{modelValue:o(m).area_id,"onUpdate:modelValue":e[2]||(e[2]=s=>o(m).area_id=s),items:o(g),"item-title":"label","item-value":"value","persistent-hint":"",label:"Area *",rules:[o(f)],"error-messages":o(l).area_id,onKeypress:e[3]||(e[3]=s=>o(l).area_id="")},null,8,["modelValue","items","rules","error-messages"])]),_:1})]),_:1}),a(D,{class:"border-opacity-75 my-4",color:"csecundary",thickness:3}),a(_,{class:"pt-0"},{default:r(()=>[a(u,{cols:"12",class:"text-center"},{default:r(()=>[a(G,{text:"Guardar",location:"top"},{activator:r(({props:s})=>[a(S,h({class:"ms-1",color:"light",rounded:"lg"},s,{onClick:e[4]||(e[4]=q=>b())}),{default:r(()=>[p(" Guardar  "),a(N,{size:"large",color:"success",icon:"mdi-content-save-outline"})]),_:2},1040)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})])}}});export{X as _};
