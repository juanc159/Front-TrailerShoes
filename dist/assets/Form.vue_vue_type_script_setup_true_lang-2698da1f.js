import{useCrudCalendarTypeStore as v}from"./useCrudCalendarTypeStore-9c6627dc.js";import{i as _,s as C,r as c,o as k,c as b,d as a,p as o,C as u,q as p,b as V,B as i,z as x,n as l,L as w,K as T}from"./index-c9350ca5.js";const N=_({__name:"Form",setup(B){const s=v(),{formulario:f}=C(s),n=c([]),d=c(),m=async r=>{var e;s.typeAction=r,await((e=d.value)==null?void 0:e.resetValidation()),n.value=[],r!="back"&&s.keyList++},y=async()=>{var e;const r=await((e=d.value)==null?void 0:e.validate());if(r!=null&&r.valid){const t=await s.fetchSave();t.code===200&&m("list"),t.code===422&&(n.value=t.errors??[])}};return(r,e)=>(k(),b("div",null,[a(i,null,{default:o(()=>[a(u,{cols:"12",class:"d-flex justify-content-end"},{default:o(()=>[a(p,{color:"secondary",onClick:e[0]||(e[0]=t=>m("back"))},{default:o(()=>[V(" Atras ")]),_:1})]),_:1})]),_:1}),a(T,{ref_key:"formValidation",ref:d,"lazy-validation":""},{default:o(()=>[a(i,null,{default:o(()=>[a(u,{cols:"4"},{default:o(()=>[a(x,{clearable:"",modelValue:l(f).name,"onUpdate:modelValue":e[1]||(e[1]=t=>l(f).name=t),rules:[l(w)],"error-messages":l(n).name,label:"Nombre",onKeypress:e[2]||(e[2]=t=>l(n).name="")},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),a(i,null,{default:o(()=>[a(u,{cols:"12 d-flex justify-content-center"},{default:o(()=>[a(p,{color:"primary",onClick:e[3]||(e[3]=t=>y())},{default:o(()=>[V("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]))}});export{N as _};
