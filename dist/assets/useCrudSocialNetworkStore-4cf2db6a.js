import{p as l,q as e,r as i,s as n}from"./index-dd53741e.js";const o=n(),c=l("useCrudSocialNetworkStore",{state:()=>({loading:!0,typeAction:"list",action:"list",socialNetworkData:{},keyList:0,socialNetworks:[],totalData:0,totalPage:0,currentPage:1,lastPage:0,formulario:{id:null,name:null,url:null,path:null}}),getters:{},actions:{clearFormulario(){this.formulario={id:null,name:null,url:null,path:null}},async fetchAll(s){this.loading=!0,await e.post("/socialNetwork-list",s).then(t=>{this.loading=!1,this.socialNetworks=t.data.socialNetworks,this.totalData=t.data.totalData,this.totalPage=t.data.totalPage,this.currentPage=t.data.currentPage,this.lastPage=t.data.lastPage}).catch(t=>{this.loading=!1,console.log("error",t)})},async fetchSave(){const s=i();s.isLoading=!0;const t=new FormData;for(const a in this.formulario)t.append(a,this.formulario[a]);return await e.post("/socialNetwork-create",t).then(a=>(s.isLoading=!1,a.data.code===200?o.toast("Éxito",a.data.message,"success"):o.toast("Error",a.data.message,"danger"),{message:a.data.message,code:a.data.code,errors:a.data.errors})).catch(async a=>(s.isLoading=!1,a.response.status===500&&o.toast("Error",a.response.data.message,"danger"),console.log(await a),{errors:a.response.data.errors,code:a.response.data.code,message:a.response.data.message}))},async fetchDelete(s){const t=i();t.isLoading=!0,await e.delete("/socialNetwork-delete/"+s).then(a=>{t.isLoading=!1,o.toast("Éxito",a.data.message,"success")}).catch(async a=>{t.isLoading=!1,console.log(await a)})},async fetchInfo(s){const t=i();t.isLoading=!0,await e.get(`/socialNetwork-info/${s}`).then(async a=>{t.isLoading=!1,this.socialNetworkData.id=s,this.formulario=await a.data.data}).catch(async a=>{t.isLoading=!1,console.log(await a)})}}});export{c as useCrudSocialNetworkStore};
