import{_ as x}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-e1c88155.js";import{useCrudCalendarTypeStore as C}from"./useCrudCalendarTypeStore-ce71fd55.js";import{e as k,x as w,y as V,o as T,c as B,d as a,h as r,w as o,J as $,R as F,K as p,L as u,H as _,T as v,b as m,g as N,m as S,I as K,V as R,X as z,a as b}from"./index-dd53741e.js";import{V as G}from"./VTooltip-c58f227b.js";const H=b("b",{class:"text-warning"},"*",-1),I=b("b",{class:"text-warning"},"*",-1),J=k({__name:"Form",setup(L){const i=C(),{action:y,formulario:d}=w(i),l=V([]),c=V(),f=async t=>{var e;i.typeAction=t,await((e=c.value)==null?void 0:e.resetValidation()),l.value=[],t!="back"&&i.keyList++},g=async()=>{var e;const t=await((e=c.value)==null?void 0:e.validate());if(t!=null&&t.valid){const n=await i.fetchSave();n.code===200&&f("list"),n.code===422&&(l.value=n.errors??[])}};return(t,e)=>{const n=x;return T(),B("div",null,[a(n,{"sub-title":"Tipo de calendario",action:r(y),"validate-crud":!0,"btn-back":!0,onChangeScreenBack:e[0]||(e[0]=s=>f("back"))},null,8,["action"]),a(z,null,{default:o(()=>[a($,null,{default:o(()=>[a(F,{ref_key:"formValidation",ref:c,"lazy-validation":""},{default:o(()=>[a(p,null,{default:o(()=>[a(u,{cols:"12",sm:"6"},{default:o(()=>[a(_,{clearable:"",modelValue:r(d).name,"onUpdate:modelValue":e[1]||(e[1]=s=>r(d).name=s),rules:[r(v)],"error-messages":r(l).name,onKeypress:e[2]||(e[2]=s=>r(l).name="")},{label:o(()=>[m(" Nombre "),H]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"12",sm:"6"},{default:o(()=>[a(_,{clearable:"",type:"color",modelValue:r(d).color,"onUpdate:modelValue":e[3]||(e[3]=s=>r(d).color=s),rules:[r(v)],"error-messages":r(l).color,onKeypress:e[4]||(e[4]=s=>r(l).color="")},{label:o(()=>[m(" Color "),I]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),a(N,{class:"border-opacity-75 my-4",color:"cprimary",thickness:3}),a(p,{class:"pt-0"},{default:o(()=>[a(u,{class:"text-center",cols:"12"},{default:o(()=>[a(G,{text:"Guardar",location:"top"},{activator:o(({props:s})=>[a(S,K({class:"ms-1",color:"light",rounded:"lg"},s,{onClick:e[5]||(e[5]=U=>g())}),{default:o(()=>[m(" Guardar  "),a(R,{size:"large",color:"success",icon:"mdi-content-save-outline"})]),_:2},1040)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])}}});export{J as _};
