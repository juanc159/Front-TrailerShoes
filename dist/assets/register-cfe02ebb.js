import{_ as R}from"./AppTextField.vue_vue_type_script_setup_true_lang-6b839278.js";import{e as N,ak as U,o as _,c as b,F,M as I,d as t,w as l,V as K,g as e,h as C,u as L,s as M,r as c,f as S,v as j,U as A,a as f,ab as x,aX as V,aj as P,aY as z,ai as D,b as v,B as E,I as H,a9 as h}from"./index-7cf6b37e.js";import{r as u,l as Y,s as q}from"./validators-e33fb393.js";import{V as X}from"./VForm-abf2d075.js";import{V as G,a as i}from"./VRow-a322e02c.js";import{V as J}from"./VSelect-7d00fc06.js";import{V as k}from"./VDivider-8b963e7d.js";import"./VTextField-2736fda9.js";import"./forwardRefs-9d31fcaa.js";import"./VList-fed34aed.js";import"./dialog-transition-9aad2713.js";import"./VMenu-cf416cb0.js";import"./VOverlay-26a679d2.js";import"./VChip-bb995c1a.js";const O={class:"d-flex justify-center flex-wrap gap-3"},Q=N({__name:"AuthProvider",setup(T){const{global:m}=U(),g=[{icon:"fa-facebook",color:"#4267b2"},{icon:"fa-google",color:"#dd4b39"},{icon:"fa-twitter",color:"#1da1f2"}];return(y,w)=>(_(),b("div",O,[(_(),b(F,null,I(g,a=>t(C,{key:a.icon,icon:"",variant:"tonal",size:"38",color:e(m).name.value==="dark"?a.colorInDark:a.color,class:"rounded"},{default:l(()=>[t(K,{size:"18",icon:a.icon},null,8,["icon"])]),_:2},1032,["color"])),64))]))}}),W=`<svg width="238" height="238" viewBox="0 0 181 181" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<rect x="1.30469" y="1.44312" width="178" height="178" rx="19" stroke="currentColor" stroke-opacity="0.16" stroke-width="2" stroke-dasharray="8 8"/>\r
<rect x="22.8047" y="22.9431" width="135" height="135" rx="10" fill="currentColor" fill-opacity="0.08"/>\r
</svg>\r
`,Z=`<svg width="239" height="234" viewBox="0 0 239 234" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<rect x="88.5605" y="0.700195" width="149" height="149" rx="19.5" stroke="currentColor" stroke-opacity="0.16"/>\r
<rect x="0.621094" y="33.761" width="200" height="200" rx="10" fill="currentColor" fill-opacity="0.08"/>\r
</svg>\r
`,ee={class:"auth-wrapper d-flex align-center justify-center pa-4"},se={class:"position-relative my-sm-16"},te={class:"d-flex"},oe=f("span",null,"¿Ya tienes una cuenta?",-1),ae=f("span",{class:"mx-4"},"o",-1),le=N({__name:"register",setup(T){const m=L(),{identityTypes:g}=M(m),y=c(),w=S(),a=c({name:null,lastName:null,email:null,password:null,identity_type_id:null,idNumber:null,role_id:2}),$=async()=>{var s;const d=await((s=y.value)==null?void 0:s.validate());if(d!=null&&d.valid){const n=await m.register(a.value);n.code===200&&w.push({name:"login"}),n.code===422&&(r.value=n.errors??[])}},p=c(!1),r=c({});return j(async()=>{await m.fetchDataForm()}),(d,s)=>{const n=R,B=A("RouterLink");return _(),b("div",ee,[f("div",se,[t(e(V),{nodes:("h"in d?d.h:e(x))("div",{innerHTML:e(Z)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),t(e(V),{nodes:("h"in d?d.h:e(x))("div",{innerHTML:e(W)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),t(H,{class:"auth-card pa-4","max-width":"448"},{default:l(()=>[t(P,{class:"justify-center"},{prepend:l(()=>[f("div",te,[t(e(V),{nodes:e(z).app.logo},null,8,["nodes"])])]),default:l(()=>[t(D,{class:"font-weight-bold text-h5 py-1"},{default:l(()=>[v(" Registro de usuario ")]),_:1})]),_:1}),t(E,null,{default:l(()=>[t(X,{ref_key:"formValidation",ref:y,"lazy-validation":""},{default:l(()=>[t(G,null,{default:l(()=>[t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",modelValue:e(a).name,"onUpdate:modelValue":s[0]||(s[0]=o=>e(a).name=o),label:"Nombre",rules:[e(u)],"error-messages":e(r).name,onKeypress:s[1]||(s[1]=o=>e(r).name="")},null,8,["modelValue","rules","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",modelValue:e(a).lastName,"onUpdate:modelValue":s[2]||(s[2]=o=>e(a).lastName=o),label:"Apellido",rules:[e(u)],"error-messages":e(r).lastName,onKeypress:s[3]||(s[3]=o=>e(r).lastName="")},null,8,["modelValue","rules","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(J,{clearable:"",rules:[e(u)],items:e(g),modelValue:e(a).identity_type_id,"onUpdate:modelValue":[s[4]||(s[4]=o=>e(a).identity_type_id=o),s[5]||(s[5]=o=>e(r).identity_type_id="")],"item-title":"name","item-value":"id",label:"Tipo de identificacion","error-messages":e(r).identity_type_id},null,8,["rules","items","modelValue","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",maxlength:"10",rules:[e(u),e(Y)(e(a).idNumber,10)],modelValue:e(a).idNumber,"onUpdate:modelValue":s[6]||(s[6]=o=>e(a).idNumber=o),"error-messages":e(r).idNumber,label:"identificación",onKeypress:s[7]||(s[7]=o=>{e(r).idNumber="",e(q)(o)})},null,8,["rules","modelValue","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",modelValue:e(a).email,"onUpdate:modelValue":s[8]||(s[8]=o=>e(a).email=o),label:"Email",type:"email",rules:[e(u)],"error-messages":e(r).email,onKeypress:s[9]||(s[9]=o=>e(r).email="")},null,8,["modelValue","rules","error-messages"])]),_:1}),t(i,{cols:"12"},{default:l(()=>[t(n,{clearable:"",modelValue:e(a).password,"onUpdate:modelValue":s[10]||(s[10]=o=>e(a).password=o),label:"Password",type:e(p)?"text":"password","append-inner-icon":e(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[11]||(s[11]=o=>p.value=!e(p)),rules:[e(u)],"error-messages":e(r).password,onKeypress:s[12]||(s[12]=o=>e(r).password="")},null,8,["modelValue","type","append-inner-icon","rules","error-messages"]),t(C,{block:"",class:"mt-2 mb-4",onClick:s[13]||(s[13]=o=>$())},{default:l(()=>[v(" Registrarse ")]),_:1})]),_:1}),t(i,{cols:"12",class:"text-center text-base"},{default:l(()=>[oe,t(B,{class:"text-primary ms-2",to:{name:"login"}},{default:l(()=>[v(" Iniciar sesión ")]),_:1})]),_:1}),t(i,{cols:"12",class:"d-flex align-center"},{default:l(()=>[t(k),ae,t(k)]),_:1}),t(i,{cols:"12",class:"text-center"},{default:l(()=>[t(Q)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])])}}});typeof h=="function"&&h(le);export{le as default};
