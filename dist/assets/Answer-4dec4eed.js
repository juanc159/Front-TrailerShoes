import{i as A,r as V,j as N,k as R,o as a,c as r,d as s,p as l,n as u,R as d,H as x,A as p,a as b,t as y,a2 as S,b as q,K as j,O as _,P as v,L as U,T as k,a7 as D,a8 as E,a0 as F,a4 as L,B as z,C as G,q as H,v as I,ay as B}from"./index-c9350ca5.js";import{useCrudSurveyStore as K}from"./useCrudSurveyStore-4fe69ad4.js";import{V as M}from"./VTextarea-7e773ba2.js";const O={key:2,class:"demo-space-x"},P=A({__name:"Answer",setup($){const w=V(),C=K(),c=N(),i=V({}),f=V(null),T=async()=>{var o;const n=await((o=w.value)==null?void 0:o.validate());n!=null&&n.valid&&(i.value.email=c.params.email,(await C.saveAnswer(i.value)).code==200&&(f.value="Usted ya ha respondido esta encuesta"))};return R(async()=>{const n=await C.getInfoToAnswer(Number(c.params.id),c.params.email);if(n.code==200)for(const o in n.data)i.value[o]=n.data[o]}),(n,o)=>(a(),r("div",null,[s(I,null,{default:l(()=>[u(f)?(a(),d(x,{key:0},{default:l(()=>[s(p,null,{default:l(()=>[b("h1",null,y(u(f)),1)]),_:1})]),_:1})):(a(),d(x,{key:1},{default:l(()=>[s(S,{"primary-title":""},{default:l(()=>[q("responder encuesta "+y(u(i).name),1)]),_:1}),s(p,null,{default:l(()=>[s(j,{ref_key:"formValidation",ref:w,"lazy-validation":""},{default:l(()=>[(a(!0),r(_,null,v(u(i).questions,(e,g)=>(a(),r("div",{key:g},[b("h3",null,y(e.question),1),e.type_question==1?(a(),d(M,{key:0,modelValue:e.answer,"onUpdate:modelValue":t=>e.answer=t,rules:[u(U)]},null,8,["modelValue","onUpdate:modelValue","rules"])):k("",!0),e.type_question==2?(a(),d(D,{key:1,modelValue:e.answer,"onUpdate:modelValue":t=>e.answer=t,rules:[u(U)]},{default:l(()=>[(a(!0),r(_,null,v(e.options,(t,m)=>(a(),d(E,{key:m,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","rules"])):k("",!0),e.type_question==3?(a(),r("div",O,[(a(!0),r(_,null,v(e.options,(t,m)=>(a(),d(F,{modelValue:e.answer,"onUpdate:modelValue":h=>e.answer=h,key:m,label:t.name,value:t.id},null,8,["modelValue","onUpdate:modelValue","label","value"]))),128))])):k("",!0),s(L,{class:"my-5"})]))),128))]),_:1},512)]),_:1}),s(p,null,{default:l(()=>[s(z,null,{default:l(()=>[s(G,{cols:"12",class:"d-flex justify-content-center align-items-center"},{default:l(()=>[s(H,{color:"primary",onClick:o[0]||(o[0]=e=>T())},{default:l(()=>[q("Enviar respuesta")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})]))}});typeof B=="function"&&B(P);export{P as default};
