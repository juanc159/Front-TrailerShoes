import{e as w,y as _,$ as x,ae as S,x as U,z,o as y,c as B,d as a,w as l,X as R,a5 as $,J as v,R as D,O as T,a0 as b,h as n,T as j,a1 as N,m as V,V as p,G as P,ai as q,a as E,aj as G}from"./index-dd53741e.js";const J=E("span",null,"Imagen",-1),h=w({__name:"ModuleImage",setup(O){const g=_(),o=_(x()),I=S(),{modalModuleImage:s,arraySections:i,sectionSelected:r,rowSelected:c,columnsSelected:d,editModuleImage:C,typeModuleImage:k}=U(I);z(()=>{C.value&&(o.value.imageFile=i.value[r.value].arrayRows[c.value].columns[d.value].contentImage.imageFile,o.value.imageUrl=i.value[r.value].arrayRows[c.value].columns[d.value].contentImage.imageUrl)});const F=async()=>{var e;const u=await((e=g.value)==null?void 0:e.validate());u!=null&&u.valid&&(i.value[r.value].arrayRows[c.value].columns[d.value].contentImage={imageFile:o.value.imageFile,imageUrl:o.value.imageUrl,typeModuleImage:k.value},s.value=!1,m())},f=()=>{s.value=!1,m()},m=()=>{o.value.clearData()};return(u,e)=>{const M=G;return y(),B("div",null,[a(q,{modelValue:n(s),"onUpdate:modelValue":e[4]||(e[4]=t=>P(s)?s.value=t:null),width:"800",persistent:""},{default:l(()=>[a(M,{onClick:e[0]||(e[0]=t=>f())}),a(R,null,{default:l(()=>[a($,{"primary-title":""},{default:l(()=>[J]),_:1}),a(v,null,{default:l(()=>[a(D,{ref_key:"formFileValidation",ref:g,"lazy-validation":""},{default:l(()=>[(y(),T(b,{onChange:n(o).handleImageSelected,rules:[n(j)],key:n(o).key,"onClick:clear":e[1]||(e[1]=t=>m())},null,8,["onChange","rules"]))]),_:1},512)]),_:1}),a(v,null,{default:l(()=>[a(N,{src:n(o).imageUrl},null,8,["src"])]),_:1}),a(v,{class:"d-flex justify-end"},{default:l(()=>[a(V,{size:"40",color:"error",icon:"",onClick:e[2]||(e[2]=t=>f()),class:"mr-3"},{default:l(()=>[a(p,{size:"30",icon:"tabler-circle-x"})]),_:1}),a(V,{size:"40",color:"success",icon:"",onClick:e[3]||(e[3]=t=>F())},{default:l(()=>[a(p,{size:"30",icon:"tabler-circle-check"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});export{h as _};
