import{_ as x}from"./HeaderAlertView.vue_vue_type_script_setup_true_lang-e1c88155.js";import{useCrudPermissionStore as k}from"./useCrudPermissionStore-8109036d.js";import{e as C,x as $,y as v,z as B,o as F,c as S,d as s,w as t,L as u,m as g,b as m,K as V,h as a,R as T,E as D,T as p,H as b,g as N,I as P,V as z,D as G,a as _}from"./index-dd53741e.js";import{V as K}from"./VTooltip-c58f227b.js";const R=_("b",{class:"text-warning"},"*",-1),U=_("b",{class:"text-warning"},"*",-1),A=_("b",{class:"text-warning"},"*",-1),q=C({__name:"Form",setup(E){const n=k(),{action:y,formulario:i}=$(n),r=v([]),c=v(),f=async l=>{var e;n.typeAction=l,await((e=c.value)==null?void 0:e.resetValidation()),r.value=[],l!="back"&&n.keyList++},w=async()=>{var e;const l=await((e=c.value)==null?void 0:e.validate());if(l!=null&&l.valid){const d=await n.fetchSave();d.code===200&&f("list"),d.code===422&&(r.value=d.errors)}};return B(async()=>{await n.fetchDataForm()}),(l,e)=>{const d=x;return F(),S("div",null,[s(V,null,{default:t(()=>[s(u,{cols:"12",class:"d-flex justify-content-end"},{default:t(()=>[s(g,{color:"secondary",onClick:e[0]||(e[0]=o=>f("back"))},{default:t(()=>[m(" Atras ")]),_:1})]),_:1})]),_:1}),s(d,{"sub-title":"Permiso",action:a(y),"validate-crud":!0,"btn-back":!0,onChangeScreenBack:f},null,8,["action"]),s(G,{class:"bg-vwhite",fluid:""},{default:t(()=>[s(T,{ref_key:"formValidation",ref:c,"lazy-validation":""},{default:t(()=>[s(V,null,{default:t(()=>[s(u,{cols:"12",md:"6"},{default:t(()=>[s(D,{items:a(n).arrayMenus,"item-title":"title","item-value":"id",rules:[a(p)],modelValue:a(i).menu_id,"onUpdate:modelValue":[e[1]||(e[1]=o=>a(i).menu_id=o),e[2]||(e[2]=o=>a(r).menu_id="")],"error-messages":a(r).menu_id},{label:t(()=>[m(" Grupo "),R]),_:1},8,["items","rules","modelValue","error-messages"])]),_:1}),s(u,{cols:"12",md:"6"},{default:t(()=>[s(b,{modelValue:a(i).name,"onUpdate:modelValue":e[3]||(e[3]=o=>a(i).name=o),rules:[a(p)],"error-messages":a(r).name,onKeypress:e[4]||(e[4]=o=>a(r).name="")},{label:t(()=>[m(" Nombre "),U]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),s(u,{cols:"12"},{default:t(()=>[s(b,{modelValue:a(i).description,"onUpdate:modelValue":e[5]||(e[5]=o=>a(i).description=o),rules:[a(p)],"error-messages":a(r).description,onKeypress:e[6]||(e[6]=o=>a(r).description="")},{label:t(()=>[m(" Descripción "),A]),_:1},8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),s(N,{class:"border-opacity-75 my-4",color:"csecundary",thickness:3}),s(V,{class:"pt-0"},{default:t(()=>[s(u,{cols:"12",class:"text-center"},{default:t(()=>[s(K,{text:"Guardar",location:"top"},{activator:t(({props:o})=>[s(g,P({class:"ms-1",color:"light",rounded:"lg"},o,{onClick:e[7]||(e[7]=H=>w())}),{default:t(()=>[m(" Guardar "),s(z,{size:"large",color:"success",icon:"mdi-content-save-outline"})]),_:2},1040)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})])}}});export{q as _};
