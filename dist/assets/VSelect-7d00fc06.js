import{a as ue,e as ie,f as ce,V as W}from"./VTextField-2736fda9.js";import{f as re}from"./forwardRefs-9d31fcaa.js";import{b4 as K,ay as E,as as Q,W as se,aB as de,j as M,D as Z,a1 as _,a2 as J,y as v,a4 as ve,bc as fe,aw as me,Z as k,G as H,d as s,ax as ye,r as F,ah as Ve,a7 as he,aQ as Ce,V as be,m as w,a3 as ke,aK as ge,bd as z,Y as Ie,be as Y,b7 as Se,a0 as xe,bf as Pe,aH as we,F as Be,a5 as De,b as Fe}from"./index-7cf6b37e.js";import{m as pe,u as Te,V as _e,a as q}from"./VList-fed34aed.js";import{V as Ae}from"./dialog-transition-9aad2713.js";import{V as Ue}from"./VMenu-cf416cb0.js";import{V as Oe}from"./VChip-bb995c1a.js";const X=Symbol.for("vuetify:selection-control-group"),ee=K({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:E,trueIcon:E,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Q},...se(),...de()},"v-selection-control-group");M()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...Z(),...ee()},emits:{"update:modelValue":e=>!0},setup(e,f){let{slots:t}=f;const n=_(e,"modelValue"),c=J(),C=v(()=>e.id||`v-selection-control-group-${c}`),m=v(()=>e.name||C.value),a=new Set;return ve(X,{modelValue:n,forceUpdate:()=>{a.forEach(i=>i())},onForceUpdate:i=>{a.add(i),fe(()=>{a.delete(i)})}}),me({[e.defaultsTarget]:{color:k(e,"color"),disabled:k(e,"disabled"),density:k(e,"density"),error:k(e,"error"),inline:k(e,"inline"),modelValue:n,multiple:v(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),name:m,falseIcon:k(e,"falseIcon"),trueIcon:k(e,"trueIcon"),readonly:k(e,"readonly"),ripple:k(e,"ripple"),type:k(e,"type"),valueComparator:k(e,"valueComparator")}}),H(()=>{var i;return s("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(i=t.default)==null?void 0:i.call(t)])}),{}}});const le=K({label:String,trueValue:null,falseValue:null,value:null,...Z(),...ee()},"v-selection-control");function Le(e){const f=ke(X,void 0),{densityClasses:t}=ge(e),n=_(e,"modelValue"),c=v(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),C=v(()=>e.falseValue!==void 0?e.falseValue:!1),m=v(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),a=v({get(){const r=f?f.modelValue.value:n.value;return m.value?r.some(d=>e.valueComparator(d,c.value)):e.valueComparator(r,c.value)},set(r){if(e.readonly)return;const d=r?c.value:C.value;let y=d;m.value&&(y=r?[...z(n.value),d]:z(n.value).filter(P=>!e.valueComparator(P,c.value))),f?f.modelValue.value=y:n.value=y}}),{textColorClasses:i,textColorStyles:p}=Ie(v(()=>a.value&&!e.error&&!e.disabled?e.color:void 0)),A=v(()=>a.value?e.trueIcon:e.falseIcon);return{group:f,densityClasses:t,trueValue:c,falseValue:C,model:a,textColorClasses:i,textColorStyles:p,icon:A}}const Re=M()({name:"VSelectionControl",directives:{Ripple:ye},inheritAttrs:!1,props:le(),emits:{"update:modelValue":e=>!0},setup(e,f){let{attrs:t,slots:n}=f;const{group:c,densityClasses:C,icon:m,model:a,textColorClasses:i,textColorStyles:p,trueValue:A}=Le(e),r=J(),d=v(()=>e.id||`input-${r}`),y=F(!1),P=F(!1),g=F();c==null||c.onForceUpdate(()=>{g.value&&(g.value.checked=a.value)});function T(V){y.value=!0,(!Y||Y&&V.target.matches(":focus-visible"))&&(P.value=!0)}function U(){y.value=!1,P.value=!1}function O(V){e.readonly&&c&&Se(()=>c.forceUpdate()),a.value=V.target.checked}return H(()=>{var L,B;const V=n.label?n.label({label:e.label,props:{for:d.value}}):e.label,[N,G]=Ve(t);return s("div",w({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":y.value,"v-selection-control--focus-visible":P.value,"v-selection-control--inline":e.inline},C.value,e.class]},N,{style:e.style}),[s("div",{class:["v-selection-control__wrapper",i.value],style:p.value},[(L=n.default)==null?void 0:L.call(n),he(s("div",{class:["v-selection-control__input"]},[m.value&&s(be,{key:"icon",icon:m.value},null),s("input",w({ref:g,checked:a.value,disabled:e.disabled,id:d.value,onBlur:U,onFocus:T,onInput:O,"aria-disabled":e.readonly,type:e.type,value:A.value,name:e.name,"aria-checked":e.type==="checkbox"?a.value:void 0},G),null),(B=n.input)==null?void 0:B.call(n,{model:a,textColorClasses:i,textColorStyles:p,props:{onFocus:T,onBlur:U,id:d.value}})]),[[Ce("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),V&&s(ue,{for:d.value,clickable:!0},{default:()=>[V]})])}),{isFocused:y,input:g}}}),$e=K({indeterminate:Boolean,indeterminateIcon:{type:E,default:"$checkboxIndeterminate"},...le({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),Ee=M()({name:"VCheckboxBtn",props:$e(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,f){let{slots:t}=f;const n=_(e,"indeterminate"),c=_(e,"modelValue");function C(i){n.value&&(n.value=!1)}const m=v(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),a=v(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return H(()=>s(Re,w(e,{modelValue:c.value,"onUpdate:modelValue":[i=>c.value=i,C],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",inline:!0,falseIcon:m.value,trueIcon:a.value,"aria-checked":e.indeterminate?"mixed":void 0}),t)),{}}});const Ke=K({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:E,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Q},...pe({itemChildren:!1})},"v-select"),Ye=M()({name:"VSelect",props:{...Ke(),...xe(ie({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Pe({transition:{component:Ae}})},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,f){let{slots:t}=f;const{t:n}=we(),c=F(),C=F(),m=_(e,"menu"),a=v({get:()=>m.value,set:l=>{var u;m.value&&!l&&((u=C.value)!=null&&u.Î¨openChildren)||(m.value=l)}}),{items:i,transformIn:p,transformOut:A}=Te(e),r=_(e,"modelValue",[],l=>p(z(l)),l=>{const u=A(l);return e.multiple?u:u[0]??null}),d=ce(),y=v(()=>r.value.map(l=>i.value.find(u=>e.valueComparator(u.value,l.value))||l)),P=v(()=>y.value.map(l=>l.props.value)),g=F(!1);let T="",U;const O=v(()=>e.hideSelected?i.value.filter(l=>!y.value.some(u=>u===l)):i.value),V=F();function N(l){e.openOnClear&&(a.value=!0)}function G(){e.hideNoData&&!i.value.length||e.readonly||d!=null&&d.isReadonly.value||(a.value=!a.value)}function L(l){var o,x,D,b;if(e.readonly||d!=null&&d.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(a.value=!0),["Escape","Tab"].includes(l.key)&&(a.value=!1),l.key==="ArrowDown"?(o=V.value)==null||o.focus("next"):l.key==="ArrowUp"?(x=V.value)==null||x.focus("prev"):l.key==="Home"?(D=V.value)==null||D.focus("first"):l.key==="End"&&((b=V.value)==null||b.focus("last"));const u=1e3;function S(h){const I=h.key.length===1,j=!h.ctrlKey&&!h.metaKey&&!h.altKey;return I&&j}if(e.multiple||!S(l))return;const R=performance.now();R-U>u&&(T=""),T+=l.key.toLowerCase(),U=R;const $=i.value.find(h=>h.title.toLowerCase().startsWith(T));$!==void 0&&(r.value=[$])}function B(l){if(e.multiple){const u=P.value.findIndex(S=>e.valueComparator(S,l.value));if(u===-1)r.value=[...r.value,l];else{const S=[...r.value];S.splice(u,1),r.value=S}}else r.value=[l],a.value=!1}function te(l){var u;(u=V.value)!=null&&u.$el.contains(l.relatedTarget)||(a.value=!1)}function ae(l){g.value=!0}function ne(l){var u;l.relatedTarget==null&&((u=c.value)==null||u.focus())}return H(()=>{const l=!!(e.chips||t.chip),u=!!(!e.hideNoData||O.value.length||t.prepend||t.append||t["no-data"]),S=r.value.length>0,[R]=W.filterProps(e),$=S||!g.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(W,w({ref:c},R,{modelValue:r.value.map(o=>o.props.value).join(", "),"onUpdate:modelValue":o=>{o==null&&(r.value=[])},focused:g.value,"onUpdate:focused":o=>g.value=o,validationValue:r.externalValue,dirty:S,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":r.value.length},e.class],style:e.style,appendInnerIcon:e.menuIcon,readonly:!0,placeholder:$,"onClick:clear":N,"onMousedown:control":G,onBlur:te,onKeydown:L}),{...t,default:()=>s(Be,null,[s(Ue,w({ref:C,modelValue:a.value,"onUpdate:modelValue":o=>a.value=o,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[u&&s(_e,{ref:V,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:o=>o.preventDefault(),onFocusin:ae,onFocusout:ne},{default:()=>{var o,x,D;return[!O.value.length&&!e.hideNoData&&(((o=t["no-data"])==null?void 0:o.call(t))??s(q,{title:n(e.noDataText)},null)),(x=t["prepend-item"])==null?void 0:x.call(t),O.value.map((b,h)=>{var I;return t.item?(I=t.item)==null?void 0:I.call(t,{item:b,index:h,props:w(b.props,{onClick:()=>B(b)})}):s(q,w({key:h},b.props,{onClick:()=>B(b)}),{prepend:j=>{let{isSelected:oe}=j;return e.multiple&&!e.hideSelected?s(Ee,{modelValue:oe,ripple:!1,tabindex:"-1"},null):void 0}})}),(D=t["append-item"])==null?void 0:D.call(t)]}})]}),y.value.map((o,x)=>{var h;function D(I){I.stopPropagation(),I.preventDefault(),B(o)}const b={"onClick:close":D,modelValue:!0,"onUpdate:modelValue":void 0};return s("div",{key:o.value,class:"v-select__selection"},[l?t.chip?s(De,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:o.title}}},{default:()=>{var I;return[(I=t.chip)==null?void 0:I.call(t,{item:o,index:x,props:b})]}}):s(Oe,w({key:"chip",closable:e.closableChips,size:"small",text:o.title},b),null):((h=t.selection)==null?void 0:h.call(t,{item:o,index:x}))??s("span",{class:"v-select__selection-text"},[o.title,e.multiple&&x<y.value.length-1&&s("span",{class:"v-select__selection-comma"},[Fe(",")])])])})])})}),re({isFocused:g,menu:a,select:B},c)}});export{Ye as V,Ee as a,$e as m};
